<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Adhearsion::Initializer
  
    &mdash; Documentation by YARD 0.7.2
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (I)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../Adhearsion.html" title="Adhearsion (module)">Adhearsion</a></span></span>
     &raquo; 
    <span class="title">Initializer</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Adhearsion::Initializer
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Adhearsion::Initializer</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/adhearsion/initializer.rb<span class="defines">,<br />
  lib/adhearsion/initializer/drb.rb,<br /> lib/adhearsion/initializer/ldap.rb,<br /> lib/adhearsion/initializer/xmpp.rb,<br /> lib/adhearsion/initializer/rails.rb,<br /> lib/adhearsion/initializer/asterisk.rb,<br /> lib/adhearsion/initializer/database.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Defined Under Namespace</h2>
<p class="children">
   
    
   
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Initializer/AsteriskInitializer.html" title="Adhearsion::Initializer::AsteriskInitializer (class)">AsteriskInitializer</a></span>, <span class='object_link'><a href="Initializer/DatabaseInitializer.html" title="Adhearsion::Initializer::DatabaseInitializer (class)">DatabaseInitializer</a></span>, <span class='object_link'><a href="Initializer/DrbInitializer.html" title="Adhearsion::Initializer::DrbInitializer (class)">DrbInitializer</a></span>, <span class='object_link'><a href="Initializer/InitializationFailedError.html" title="Adhearsion::Initializer::InitializationFailedError (class)">InitializationFailedError</a></span>, <span class='object_link'><a href="Initializer/LdapInitializer.html" title="Adhearsion::Initializer::LdapInitializer (class)">LdapInitializer</a></span>, <span class='object_link'><a href="Initializer/RailsInitializer.html" title="Adhearsion::Initializer::RailsInitializer (class)">RailsInitializer</a></span>, <span class='object_link'><a href="Initializer/XMPPInitializer.html" title="Adhearsion::Initializer::XMPPInitializer (class)">XMPPInitializer</a></span>
    
  
</p>


  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#ahn_app_log_directory-instance_method" title="#ahn_app_log_directory (instance method)">- (Object) <strong>ahn_app_log_directory</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute ahn_app_log_directory.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#daemon-instance_method" title="#daemon (instance method)">- (Object) <strong>daemon</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute daemon.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#log_file-instance_method" title="#log_file (instance method)">- (Object) <strong>log_file</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute log_file.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#path-instance_method" title="#path (instance method)">- (Object) <strong>path</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute path.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#pid_file-instance_method" title="#pid_file (instance method)">- (Object) <strong>pid_file</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute pid_file.
</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ahn_root%3D-class_method" title="ahn_root= (class method)">+ (Object) <strong>ahn_root=</strong>(path) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_rules_from-class_method" title="get_rules_from (class method)">+ (Object) <strong>get_rules_from</strong>(location) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#start-class_method" title="start (class method)">+ (Object) <strong>start</strong>(*args, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#start_from_init_file-class_method" title="start_from_init_file (class method)">+ (Object) <strong>start_from_init_file</strong>(file, ahn_app_path) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#bootstrap_rc-instance_method" title="#bootstrap_rc (instance method)">- (Object) <strong>bootstrap_rc</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
This step in the initialization process loads the .ahnrc in the given app
folder.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#catch_termination_signal-instance_method" title="#catch_termination_signal (instance method)">- (Object) <strong>catch_termination_signal</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_pid_file-instance_method" title="#create_pid_file (instance method)">- (Object) <strong>create_pid_file</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#daemonize%21-instance_method" title="#daemonize! (instance method)">- (Object) <strong>daemonize!</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#default_pid_path-instance_method" title="#default_pid_path (instance method)">- (Object) <strong>default_pid_path</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#init_components_subsystem-instance_method" title="#init_components_subsystem (instance method)">- (Object) <strong>init_components_subsystem</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#init_datasources-instance_method" title="#init_datasources (instance method)">- (Object) <strong>init_datasources</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#init_events_file-instance_method" title="#init_events_file (instance method)">- (Object) <strong>init_events_file</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#init_events_subsystem-instance_method" title="#init_events_subsystem (instance method)">- (Object) <strong>init_events_subsystem</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#init_modules-instance_method" title="#init_modules (instance method)">- (Object) <strong>init_modules</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Initializer) <strong>initialize</strong>(path = nil, options = {}) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Creation of pid_files.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize_log_file-instance_method" title="#initialize_log_file (instance method)">- (Object) <strong>initialize_log_file</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#join_important_threads-instance_method" title="#join_important_threads (instance method)">- (Object) <strong>join_important_threads</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
This method will block Thread.main() until calling join() has returned for
all Threads in IMPORTANT_THREADS.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#launch_console-instance_method" title="#launch_console (instance method)">- (Object) <strong>launch_console</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#load_all_init_files-instance_method" title="#load_all_init_files (instance method)">- (Object) <strong>load_all_init_files</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#load_components-instance_method" title="#load_components (instance method)">- (Object) <strong>load_components</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#need_console%3F-instance_method" title="#need_console? (instance method)">- (Boolean) <strong>need_console?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resolve_log_file_path-instance_method" title="#resolve_log_file_path (instance method)">- (Object) <strong>resolve_log_file_path</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resolve_pid_file_path-instance_method" title="#resolve_pid_file_path (instance method)">- (Object) <strong>resolve_pid_file_path</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#should_daemonize%3F-instance_method" title="#should_daemonize? (instance method)">- (Boolean) <strong>should_daemonize?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#start-instance_method" title="#start (instance method)">- (Object) <strong>start</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#switch_to_root_directory-instance_method" title="#switch_to_root_directory (instance method)">- (Object) <strong>switch_to_root_directory</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#trigger_after_initialized_hooks-instance_method" title="#trigger_after_initialized_hooks (instance method)">- (Object) <strong>trigger_after_initialized_hooks</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Adhearsion::Initializer (class)">Initializer</a></span></tt>) <strong>initialize</strong>(path = nil, options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Creation of pid_files
</p>
<pre class="code">
 * You may want to have Adhearsion create a process identification
   file when it boots so that a crash monitoring program such as
   Monit can reboot if necessary or so the init script can kill it
   for system shutdowns.
 * To have Adhearsion create a pid file in the default location (i.e.
   AHN_INSTALL_DIR/adhearsion.pid), supply :pid_file with 'true'. Otherwise
   one is not created UNLESS it is running in daemon mode, in which
   case one is created. You can force Adhearsion to not create one
   even in daemon mode by supplying &quot;false&quot;.</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


125
126
127
128
129
130
131
132</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 125</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span><span class='lparen'>(</span><span class='id path'>path</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='cvar'>@@started</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@path</span>     <span class='op'>=</span> <span class='id path'>path</span>
  <span class='ivar'>@mode</span>     <span class='op'>=</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:mode</span><span class='rbracket'>]</span>
  <span class='ivar'>@pid_file</span> <span class='op'>=</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pid_file</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id nil?'>nil?</span> <span class='op'>?</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>PID_FILE</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>:</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pid_file</span><span class='rbracket'>]</span>
  <span class='ivar'>@loaded_init_files</span>  <span class='op'>=</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:loaded_init_files</span><span class='rbracket'>]</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id class'>class</span><span class='period'>.</span><span class='id ahn_root'>ahn_root</span> <span class='op'>=</span> <span class='id path'>path</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <span id="ahn_app_log_directory-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="ahn_app_log_directory-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>ahn_app_log_directory</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute ahn_app_log_directory
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


112
113
114</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 112</span>

<span class='kw'>def</span> <span class='id ahn_app_log_directory'>ahn_app_log_directory</span>
  <span class='ivar'>@ahn_app_log_directory</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="daemon-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="daemon-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>daemon</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute daemon
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


112
113
114</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 112</span>

<span class='kw'>def</span> <span class='id daemon'>daemon</span>
  <span class='ivar'>@daemon</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="log_file-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="log_file-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>log_file</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute log_file
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


112
113
114</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 112</span>

<span class='kw'>def</span> <span class='id log_file'>log_file</span>
  <span class='ivar'>@log_file</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="path-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="path-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>path</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute path
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


112
113
114</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 112</span>

<span class='kw'>def</span> <span class='id path'>path</span>
  <span class='ivar'>@path</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="pid_file-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="pid_file-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>pid_file</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute pid_file
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


112
113
114</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 112</span>

<span class='kw'>def</span> <span class='id pid_file'>pid_file</span>
  <span class='ivar'>@pid_file</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="ahn_root=-class_method">
  
    + (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>ahn_root=</strong>(path) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


93
94
95
96
97
98
99</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 93</span>

<span class='kw'>def</span> <span class='id ahn_root='>ahn_root=</span><span class='lparen'>(</span><span class='id path'>path</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='const'>Object</span><span class='period'>.</span><span class='id constants'>constants</span><span class='period'>.</span><span class='id map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_sym</span><span class='rparen'>)</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='symbol'>:AHN_ROOT</span><span class='rparen'>)</span>
    <span class='const'>Object</span><span class='period'>.</span><span class='id const_get'>const_get</span><span class='lparen'>(</span><span class='symbol'>:AHN_ROOT</span><span class='rparen'>)</span><span class='period'>.</span><span class='id base_path'>base_path</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id expand_path'>expand_path</span><span class='lparen'>(</span><span class='id path'>path</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='const'>Object</span><span class='period'>.</span><span class='id const_set'>const_set</span><span class='lparen'>(</span><span class='symbol'>:AHN_ROOT</span><span class='comma'>,</span> <span class='const'>PathString</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id expand_path'>expand_path</span><span class='lparen'>(</span><span class='id path'>path</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_rules_from-class_method">
  
    + (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>get_rules_from</strong>(location) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88
89
90
91</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 88</span>

<span class='kw'>def</span> <span class='id get_rules_from'>get_rules_from</span><span class='lparen'>(</span><span class='id location'>location</span><span class='rparen'>)</span>
  <span class='id location'>location</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id join'>join</span> <span class='id location'>location</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.ahnrc</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id directory?'>directory?</span> <span class='id location'>location</span>
  <span class='const'>File</span><span class='period'>.</span><span class='id exists?'>exists?</span><span class='lparen'>(</span><span class='id location'>location</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='const'>YAML</span><span class='period'>.</span><span class='id load_file'>load_file</span><span class='lparen'>(</span><span class='id location'>location</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="start-class_method">
  
    + (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>start</strong>(*args, &amp;block) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


101
102
103</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 101</span>

<span class='kw'>def</span> <span class='id start'>start</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id new'>new</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span><span class='period'>.</span><span class='id start'>start</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="start_from_init_file-class_method">
  
    + (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>start_from_init_file</strong>(file, ahn_app_path) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


105
106
107
108</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 105</span>

<span class='kw'>def</span> <span class='id start_from_init_file'>start_from_init_file</span><span class='lparen'>(</span><span class='id file'>file</span><span class='comma'>,</span> <span class='id ahn_app_path'>ahn_app_path</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='cvar'>@@started</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='cvar'>@@started</span>
  <span class='id start'>start</span> <span class='id ahn_app_path'>ahn_app_path</span><span class='comma'>,</span> <span class='symbol'>:loaded_init_files</span> <span class='op'>=&gt;</span> <span class='id file'>file</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="bootstrap_rc-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>bootstrap_rc</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
This step in the initialization process loads the .ahnrc in the given app
folder. With the information in .ahnrc, we can continue the initialization
knowing where certain files are specifically.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 197</span>

<span class='kw'>def</span> <span class='id bootstrap_rc'>bootstrap_rc</span>
  <span class='id rules'>rules</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id class'>class</span><span class='period'>.</span><span class='id get_rules_from'>get_rules_from</span> <span class='const'>AHN_ROOT</span>

  <span class='const'>AHN_CONFIG</span><span class='period'>.</span><span class='id ahnrc'>ahnrc</span> <span class='op'>=</span> <span class='id rules'>rules</span>

  <span class='comment'># DEPRECATION: Check if the old paths format is being used. If so, abort and notify.
</span>  <span class='kw'>if</span> <span class='id rules'>rules</span><span class='period'>.</span><span class='id has_key?'>has_key?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>paths</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id rules'>rules</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>paths</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
    <span class='id paths'>paths</span> <span class='op'>=</span> <span class='id rules'>rules</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>paths</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id each_pair'>each_pair</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id key'>key</span><span class='comma'>,</span><span class='id value'>value</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id value'>value</span><span class='period'>.</span><span class='id kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id value'>value</span><span class='period'>.</span><span class='id has_key?'>has_key?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>directory</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id value'>value</span><span class='period'>.</span><span class='id has_key?'>has_key?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pattern</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='id puts'>puts</span>
          <span class='id puts'>puts</span> <span class='op'>*</span><span class='id caller'>caller</span>
          <span class='id puts'>puts</span>

          <span class='id abort'>abort</span> <span class='heredoc_beg'>&lt;&lt;-WARNING</span>
<span class='tstring_content'>Deprecation Warning
-------------------
The (hidden) .ahnrc file in this app is of an older format and needs to be fixed.

There is a rake task to automatically fix it or you can do it manually. Note: it's
best if you do it manually so you can retain the YAML comments in your .ahnrc file.

The rake task is called &quot;deprecations:fix_ahnrc_path_format&quot;.

To do it manually, find all entries in the &quot;paths&quot; section of your &quot;.ahnrc&quot; file
which look like the following:

paths:
  key_name_could_be_anything:
directory: some_folder
pattern: *.rb

Note: the &quot;models&quot; section had this syntax before:

models:
  directory: models
  pattern: &quot;*.rb&quot;

The NEW syntax is as follows (using models as an example):

models: models/*.rb

This new format is much cleaner.

Adhearsion will abort until you fix this. Sorry for the incovenience.
</span><span class='heredoc_end'>          WARNING
</span>        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id gems'>gems</span> <span class='op'>=</span> <span class='id rules'>rules</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>gems</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='id gems'>gems</span><span class='period'>.</span><span class='id kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id gems'>gems</span><span class='period'>.</span><span class='id any?'>any?</span> <span class='op'>&amp;&amp;</span> <span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:gem</span><span class='rparen'>)</span>
    <span class='id gems'>gems</span><span class='period'>.</span><span class='id each_pair'>each_pair</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id gem_name'>gem_name</span><span class='comma'>,</span><span class='id properties_hash'>properties_hash</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id properties_hash'>properties_hash</span> <span class='op'>&amp;&amp;</span> <span class='id properties_hash'>properties_hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>version</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id gem'>gem</span> <span class='id gem_name'>gem_name</span><span class='comma'>,</span> <span class='id properties_hash'>properties_hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>version</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
      <span class='kw'>else</span>
        <span class='id gem'>gem</span> <span class='id gem_name'>gem_name</span>
      <span class='kw'>end</span>
      <span class='kw'>if</span> <span class='id properties_hash'>properties_hash</span>
        <span class='kw'>case</span> <span class='id properties_hash'>properties_hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>require</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='kw'>when</span> <span class='const'>Array</span>
            <span class='id properties_hash'>properties_hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>require</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id lib'>lib</span><span class='op'>|</span> <span class='id require'>require</span> <span class='id lib'>lib</span> <span class='rbrace'>}</span>
          <span class='kw'>when</span> <span class='const'>String</span>
            <span class='id require'>require</span> <span class='id properties_hash'>properties_hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>require</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="catch_termination_signal-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>catch_termination_signal</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


185
186
187
188
189
190
191</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 185</span>

<span class='kw'>def</span> <span class='id catch_termination_signal'>catch_termination_signal</span>
  <span class='qwords_beg'>%w'</span><span class='tstring_content'>INT</span><span class='words_sep'> </span><span class='tstring_content'>TERM</span><span class='words_sep'>'</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id process_signal'>process_signal</span><span class='op'>|</span>
    <span class='id trap'>trap</span> <span class='id process_signal'>process_signal</span> <span class='kw'>do</span>
      <span class='const'>Adhearsion</span><span class='period'>.</span><span class='id shutdown!'>shutdown!</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="create_pid_file-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>create_pid_file</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


358
359
360
361
362
363
364
365
366
367
368</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 358</span>

<span class='kw'>def</span> <span class='id create_pid_file'>create_pid_file</span>
  <span class='kw'>if</span> <span class='id pid_file'>pid_file</span>
    <span class='const'>File</span><span class='period'>.</span><span class='id open'>open</span> <span class='id pid_file'>pid_file</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>w</span><span class='tstring_end'>'</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id file'>file</span><span class='op'>|</span>
      <span class='id file'>file</span><span class='period'>.</span><span class='id puts'>puts</span> <span class='const'>Process</span><span class='period'>.</span><span class='id pid'>pid</span>
    <span class='kw'>end</span>

    <span class='const'>Events</span><span class='period'>.</span><span class='id register_callback'>register_callback</span> <span class='symbol'>:shutdown</span> <span class='kw'>do</span>
      <span class='const'>File</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='id pid_file'>pid_file</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id exists?'>exists?</span><span class='lparen'>(</span><span class='id pid_file'>pid_file</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="daemonize!-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>daemonize!</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


326
327
328
329
330</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 326</span>

<span class='kw'>def</span> <span class='id daemonize!'>daemonize!</span>
  <span class='id ahn_log'>ahn_log</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Daemonizing now! Creating </span><span class='embexpr_beg'>#{</span><span class='id pid_file'>pid_file</span><span class='rbrace'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>
  <span class='id extend'>extend</span> <span class='const'>Adhearsion</span><span class='op'>::</span><span class='const'>CustomDaemonizer</span>
  <span class='id daemonize'>daemonize</span> <span class='id log_file'>log_file</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="default_pid_path-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>default_pid_path</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


163
164
165</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 163</span>

<span class='kw'>def</span> <span class='id default_pid_path'>default_pid_path</span>
  <span class='const'>File</span><span class='period'>.</span><span class='id join'>join</span> <span class='const'>AHN_ROOT</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>adhearsion.pid</span><span class='tstring_end'>'</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="init_components_subsystem-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>init_components_subsystem</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


370
371
372
373
374
375
376
377
378
379
380</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 370</span>

<span class='kw'>def</span> <span class='id init_components_subsystem'>init_components_subsystem</span>
  <span class='ivar'>@components_directory</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id expand_path'>expand_path</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>components</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id directory?'>directory?</span> <span class='ivar'>@components_directory</span>
    <span class='const'>Components</span><span class='period'>.</span><span class='id component_manager'>component_manager</span> <span class='op'>=</span> <span class='const'>Components</span><span class='op'>::</span><span class='const'>ComponentManager</span><span class='period'>.</span><span class='id new'>new</span> <span class='ivar'>@components_directory</span>
    <span class='const'>Kernel</span><span class='period'>.</span><span class='id send'>send</span><span class='lparen'>(</span><span class='symbol'>:const_set</span><span class='comma'>,</span> <span class='symbol'>:COMPONENTS</span><span class='comma'>,</span> <span class='const'>Components</span><span class='period'>.</span><span class='id component_manager'>component_manager</span><span class='period'>.</span><span class='id lazy_config_loader'>lazy_config_loader</span><span class='rparen'>)</span>
    <span class='const'>Components</span><span class='period'>.</span><span class='id component_manager'>component_manager</span><span class='period'>.</span><span class='id globalize_global_scope!'>globalize_global_scope!</span>
    <span class='const'>Components</span><span class='period'>.</span><span class='id component_manager'>component_manager</span><span class='period'>.</span><span class='id extend_object_with'>extend_object_with</span><span class='lparen'>(</span><span class='const'>Theatre</span><span class='op'>::</span><span class='const'>CallbackDefinitionLoader</span><span class='comma'>,</span> <span class='symbol'>:events</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id ahn_log'>ahn_log</span><span class='period'>.</span><span class='id warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No components directory found. Not initializing any components.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="init_datasources-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>init_datasources</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


274
275
276
277
278
279
280</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 274</span>

<span class='kw'>def</span> <span class='id init_datasources'>init_datasources</span>
  <span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>adhearsion/initializer/database.rb</span><span class='tstring_end'>'</span></span>
  <span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>adhearsion/initializer/ldap.rb</span><span class='tstring_end'>'</span></span>

  <span class='const'>DatabaseInitializer</span><span class='period'>.</span><span class='id start'>start</span>   <span class='kw'>if</span> <span class='const'>AHN_CONFIG</span><span class='period'>.</span><span class='id database_enabled?'>database_enabled?</span>
  <span class='const'>LdapInitializer</span><span class='period'>.</span><span class='id start'>start</span>       <span class='kw'>if</span> <span class='const'>AHN_CONFIG</span><span class='period'>.</span><span class='id ldap_enabled?'>ldap_enabled?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="init_events_file-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>init_events_file</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


311
312
313
314
315
316</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 311</span>

<span class='kw'>def</span> <span class='id init_events_file'>init_events_file</span>
  <span class='id application_events_files'>application_events_files</span> <span class='op'>=</span> <span class='const'>AHN_CONFIG</span><span class='period'>.</span><span class='id files_from_setting'>files_from_setting</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>paths</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id application_events_files'>application_events_files</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id file'>file</span><span class='op'>|</span>
    <span class='const'>Events</span><span class='period'>.</span><span class='id framework_theatre'>framework_theatre</span><span class='period'>.</span><span class='id load_events_file'>load_events_file</span> <span class='id file'>file</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="init_events_subsystem-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>init_events_subsystem</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


298
299
300
301
302
303
304
305
306
307
308
309</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 298</span>

<span class='kw'>def</span> <span class='id init_events_subsystem'>init_events_subsystem</span>
  <span class='id application_events_files'>application_events_files</span> <span class='op'>=</span> <span class='const'>AHN_CONFIG</span><span class='period'>.</span><span class='id files_from_setting'>files_from_setting</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>paths</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id application_events_files'>application_events_files</span><span class='period'>.</span><span class='id any?'>any?</span>
    <span class='const'>Events</span><span class='period'>.</span><span class='id register_callback'>register_callback</span><span class='lparen'>(</span><span class='symbol'>:shutdown</span><span class='rparen'>)</span> <span class='kw'>do</span>
      <span class='id ahn_log'>ahn_log</span><span class='period'>.</span><span class='id events'>events</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Performing a graceful stop of events subsystem</span><span class='tstring_end'>&quot;</span></span>
      <span class='const'>Events</span><span class='period'>.</span><span class='id framework_theatre'>framework_theatre</span><span class='period'>.</span><span class='id graceful_stop!'>graceful_stop!</span>
    <span class='kw'>end</span>
    <span class='const'>Events</span><span class='period'>.</span><span class='id framework_theatre'>framework_theatre</span><span class='period'>.</span><span class='id start!'>start!</span>
  <span class='kw'>else</span>
    <span class='id ahn_log'>ahn_log</span><span class='period'>.</span><span class='id events'>events</span><span class='period'>.</span><span class='id warn'>warn</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>No entries in the &quot;events&quot; section of .ahnrc. Skipping its initialization.</span><span class='tstring_end'>'</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="init_modules-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>init_modules</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


282
283
284
285
286
287
288
289
290
291
292
293
294
295
296</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 282</span>

<span class='kw'>def</span> <span class='id init_modules'>init_modules</span>

  <span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>adhearsion/initializer/asterisk.rb</span><span class='tstring_end'>'</span></span>
  <span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>adhearsion/initializer/drb.rb</span><span class='tstring_end'>'</span></span>
  <span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>adhearsion/initializer/rails.rb</span><span class='tstring_end'>'</span></span>
  <span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>adhearsion/initializer/xmpp.rb</span><span class='tstring_end'>'</span></span>
  <span class='comment'># require 'adhearsion/initializer/freeswitch.rb'
</span>
  <span class='const'>AsteriskInitializer</span><span class='period'>.</span><span class='id start'>start</span>   <span class='kw'>if</span> <span class='const'>AHN_CONFIG</span><span class='period'>.</span><span class='id asterisk_enabled?'>asterisk_enabled?</span>
  <span class='const'>DrbInitializer</span><span class='period'>.</span><span class='id start'>start</span>        <span class='kw'>if</span> <span class='const'>AHN_CONFIG</span><span class='period'>.</span><span class='id drb_enabled?'>drb_enabled?</span>
  <span class='const'>RailsInitializer</span><span class='period'>.</span><span class='id start'>start</span>      <span class='kw'>if</span> <span class='const'>AHN_CONFIG</span><span class='period'>.</span><span class='id rails_enabled?'>rails_enabled?</span>
  <span class='const'>XMPPInitializer</span><span class='period'>.</span><span class='id start'>start</span>       <span class='kw'>if</span> <span class='const'>AHN_CONFIG</span><span class='period'>.</span><span class='id xmpp_enabled?'>xmpp_enabled?</span>
  <span class='comment'># FreeswitchInitializer.start if AHN_CONFIG.freeswitch_enabled?
</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="initialize_log_file-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>initialize_log_file</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


346
347
348
349
350
351
352
353
354
355
356</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 346</span>

<span class='kw'>def</span> <span class='id initialize_log_file'>initialize_log_file</span>
  <span class='const'>Dir</span><span class='period'>.</span><span class='id mkdir'>mkdir</span><span class='lparen'>(</span><span class='id ahn_app_log_directory'>ahn_app_log_directory</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id directory?'>directory?</span> <span class='id ahn_app_log_directory'>ahn_app_log_directory</span>
  <span class='id file_logger'>file_logger</span> <span class='op'>=</span> <span class='const'>Log4r</span><span class='op'>::</span><span class='const'>FileOutputter</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Main Adhearsion log file</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:filename</span> <span class='op'>=&gt;</span> <span class='id log_file'>log_file</span><span class='comma'>,</span> <span class='symbol'>:trunc</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id should_daemonize?'>should_daemonize?</span>
    <span class='const'>Logging</span><span class='op'>::</span><span class='const'>AdhearsionLogger</span><span class='period'>.</span><span class='id outputters'>outputters</span>  <span class='op'>=</span> <span class='id file_logger'>file_logger</span>
  <span class='kw'>else</span>
    <span class='const'>Logging</span><span class='op'>::</span><span class='const'>AdhearsionLogger</span><span class='period'>.</span><span class='id outputters'>outputters</span> <span class='op'>&lt;&lt;</span> <span class='id file_logger'>file_logger</span>
  <span class='kw'>end</span>
  <span class='const'>Logging</span><span class='op'>::</span><span class='const'>DefaultAdhearsionLogger</span><span class='period'>.</span><span class='id redefine_outputters'>redefine_outputters</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="join_important_threads-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>join_important_threads</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
This method will block Thread.main() until calling join() has returned for
all Threads in IMPORTANT_THREADS. Note: IMPORTANT_THREADS won&#8217;t
always contain Thread instances. It simply requires the objects respond to
join().
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


396
397
398
399
400
401
402
403
404
405
406
407
408
409</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 396</span>

<span class='kw'>def</span> <span class='id join_important_threads'>join_important_threads</span>
  <span class='comment'># Note: we're using this ugly accumulator to ensure that all threads have ended since IMPORTANT_THREADS will almost
</span>  <span class='comment'># certainly change sizes after this method is called.
</span>  <span class='id index'>index</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='kw'>until</span> <span class='id index'>index</span> <span class='op'>==</span> <span class='const'>IMPORTANT_THREADS</span><span class='period'>.</span><span class='id size'>size</span>
    <span class='kw'>begin</span>
      <span class='const'>IMPORTANT_THREADS</span><span class='lbracket'>[</span><span class='id index'>index</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id join'>join</span>
    <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id e'>e</span>
      <span class='id ahn_log'>ahn_log</span><span class='period'>.</span><span class='id error'>error</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error after join()ing Thread </span><span class='embexpr_beg'>#{</span><span class='const'>Thread</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_content'>. </span><span class='embexpr_beg'>#{</span><span class='id e'>e</span><span class='period'>.</span><span class='id message'>message</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>ensure</span>
      <span class='id index'>index</span> <span class='op'>=</span> <span class='id index'>index</span> <span class='op'>+</span> <span class='int'>1</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="launch_console-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>launch_console</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


332
333
334
335
336
337
338
339
340
341
342
343
344</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 332</span>

<span class='kw'>def</span> <span class='id launch_console'>launch_console</span>
  <span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>adhearsion/console</span><span class='tstring_end'>'</span></span>
  <span class='const'>Thread</span><span class='period'>.</span><span class='id new'>new</span> <span class='kw'>do</span>
    <span class='kw'>begin</span>
      <span class='id puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Starting console</span><span class='tstring_end'>&quot;</span></span>
      <span class='const'>Adhearsion</span><span class='op'>::</span><span class='const'>Console</span><span class='period'>.</span><span class='id run'>run</span>
      <span class='const'>Adhearsion</span><span class='period'>.</span><span class='id shutdown!'>shutdown!</span>
    <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id e'>e</span>
      <span class='id puts'>puts</span> <span class='id e'>e</span><span class='period'>.</span><span class='id message'>message</span>
      <span class='id puts'>puts</span> <span class='id e'>e</span><span class='period'>.</span><span class='id backtrace'>backtrace</span><span class='period'>.</span><span class='id join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="load_all_init_files-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>load_all_init_files</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


268
269
270
271
272</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 268</span>

<span class='kw'>def</span> <span class='id load_all_init_files'>load_all_init_files</span>
  <span class='id init_files_from_rc'>init_files_from_rc</span> <span class='op'>=</span> <span class='const'>AHN_CONFIG</span><span class='period'>.</span><span class='id files_from_setting'>files_from_setting</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>paths</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>init</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id file'>file</span><span class='op'>|</span> <span class='const'>File</span><span class='period'>.</span><span class='id expand_path'>expand_path</span><span class='lparen'>(</span><span class='id file'>file</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='id already_loaded_init_files'>already_loaded_init_files</span> <span class='op'>=</span> <span class='const'>Array</span><span class='lparen'>(</span><span class='ivar'>@loaded_init_files</span><span class='rparen'>)</span><span class='period'>.</span><span class='id map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id file'>file</span><span class='op'>|</span> <span class='const'>File</span><span class='period'>.</span><span class='id expand_path'>expand_path</span><span class='lparen'>(</span><span class='id file'>file</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='lparen'>(</span><span class='id init_files_from_rc'>init_files_from_rc</span> <span class='op'>-</span> <span class='id already_loaded_init_files'>already_loaded_init_files</span><span class='rparen'>)</span><span class='period'>.</span><span class='id each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id init'>init</span><span class='op'>|</span> <span class='id load'>load</span> <span class='id init'>init</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="load_components-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>load_components</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


382
383
384
385
386</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 382</span>

<span class='kw'>def</span> <span class='id load_components'>load_components</span>
  <span class='kw'>if</span> <span class='const'>Components</span><span class='period'>.</span><span class='id component_manager'>component_manager</span>
    <span class='const'>Components</span><span class='period'>.</span><span class='id component_manager'>component_manager</span><span class='period'>.</span><span class='id load_components'>load_components</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="need_console?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>need_console?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


322
323
324</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 322</span>

<span class='kw'>def</span> <span class='id need_console?'>need_console?</span>
  <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbol'>:console</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="resolve_log_file_path-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>resolve_log_file_path</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


176
177
178
179</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 176</span>

<span class='kw'>def</span> <span class='id resolve_log_file_path'>resolve_log_file_path</span>
  <span class='ivar'>@ahn_app_log_directory</span> <span class='op'>=</span> <span class='const'>AHN_ROOT</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/log</span><span class='tstring_end'>'</span></span>
  <span class='ivar'>@log_file</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id expand_path'>expand_path</span><span class='lparen'>(</span><span class='id ahn_app_log_directory'>ahn_app_log_directory</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/adhearsion.log</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="resolve_pid_file_path-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>resolve_pid_file_path</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


167
168
169
170
171
172
173
174</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 167</span>

<span class='kw'>def</span> <span class='id resolve_pid_file_path'>resolve_pid_file_path</span>
  <span class='ivar'>@pid_file</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id pid_file'>pid_file</span><span class='period'>.</span><span class='id equal?'>equal?</span><span class='lparen'>(</span><span class='kw'>true</span><span class='rparen'>)</span> <span class='kw'>then</span> <span class='id default_pid_path'>default_pid_path</span>
  <span class='kw'>elsif</span> <span class='id pid_file'>pid_file</span> <span class='kw'>then</span> <span class='id pid_file'>pid_file</span>
  <span class='kw'>elsif</span> <span class='id pid_file'>pid_file</span><span class='period'>.</span><span class='id equal?'>equal?</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span> <span class='kw'>then</span> <span class='kw'>nil</span>
  <span class='comment'># FIXME @pid_file = @daemon? Assignment or equality? I'm assuming equality.
</span>  <span class='kw'>else</span> <span class='ivar'>@pid_file</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbol'>:daemon</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id default_pid_path'>default_pid_path</span> <span class='op'>:</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="should_daemonize?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>should_daemonize?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


318
319
320</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 318</span>

<span class='kw'>def</span> <span class='id should_daemonize?'>should_daemonize?</span>
  <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbol'>:daemon</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="start-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>start</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 134</span>

<span class='kw'>def</span> <span class='id start'>start</span>
  <span class='const'>Adhearsion</span><span class='period'>.</span><span class='id status'>status</span> <span class='op'>=</span> <span class='symbol'>:starting</span>

  <span class='id resolve_pid_file_path'>resolve_pid_file_path</span>
  <span class='id resolve_log_file_path'>resolve_log_file_path</span>
  <span class='id daemonize!'>daemonize!</span> <span class='kw'>if</span> <span class='id should_daemonize?'>should_daemonize?</span>
  <span class='id launch_console'>launch_console</span> <span class='kw'>if</span> <span class='id need_console?'>need_console?</span>
  <span class='id switch_to_root_directory'>switch_to_root_directory</span>
  <span class='id catch_termination_signal'>catch_termination_signal</span>
  <span class='id create_pid_file'>create_pid_file</span> <span class='kw'>if</span> <span class='id pid_file'>pid_file</span>
  <span class='id bootstrap_rc'>bootstrap_rc</span>
  <span class='id initialize_log_file'>initialize_log_file</span>
  <span class='id load_all_init_files'>load_all_init_files</span>
  <span class='id init_datasources'>init_datasources</span>
  <span class='id init_components_subsystem'>init_components_subsystem</span>
  <span class='id init_modules'>init_modules</span>
  <span class='id init_events_subsystem'>init_events_subsystem</span>
  <span class='id load_components'>load_components</span>
  <span class='id init_events_file'>init_events_file</span>

  <span class='id ahn_log'>ahn_log</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Adhearsion v</span><span class='embexpr_beg'>#{</span><span class='const'>Adhearsion</span><span class='op'>::</span><span class='const'>VERSION</span><span class='op'>::</span><span class='const'>STRING</span><span class='rbrace'>}</span><span class='tstring_content'> initialized!</span><span class='tstring_end'>&quot;</span></span>
  <span class='const'>Adhearsion</span><span class='period'>.</span><span class='id status'>status</span> <span class='op'>=</span> <span class='symbol'>:running</span>

  <span class='id trigger_after_initialized_hooks'>trigger_after_initialized_hooks</span>
  <span class='id join_important_threads'>join_important_threads</span>

  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="switch_to_root_directory-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>switch_to_root_directory</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


181
182
183</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 181</span>

<span class='kw'>def</span> <span class='id switch_to_root_directory'>switch_to_root_directory</span>
  <span class='const'>Dir</span><span class='period'>.</span><span class='id chdir'>chdir</span> <span class='const'>AHN_ROOT</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="trigger_after_initialized_hooks-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>trigger_after_initialized_hooks</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


388
389
390</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/initializer.rb', line 388</span>

<span class='kw'>def</span> <span class='id trigger_after_initialized_hooks'>trigger_after_initialized_hooks</span>
  <span class='const'>Events</span><span class='period'>.</span><span class='id trigger_immediately'>trigger_immediately</span> <span class='symbol'>:after_initialized</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Mon Aug  8 16:22:04 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.2 (ruby-1.9.2).
</div>

  </body>
</html>