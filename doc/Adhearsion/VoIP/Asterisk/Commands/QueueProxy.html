<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Adhearsion::VoIP::Asterisk::Commands::QueueProxy
  
    &mdash; Documentation by YARD 0.7.2
  
</title>

  <link rel="stylesheet" href="../../../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../../../..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../../../_index.html">Index (Q)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../../../Adhearsion.html" title="Adhearsion (module)">Adhearsion</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../../VoIP.html" title="Adhearsion::VoIP (module)">VoIP</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Asterisk.html" title="Adhearsion::VoIP::Asterisk (module)">Asterisk</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Commands.html" title="Adhearsion::VoIP::Asterisk::Commands (module)">Commands</a></span></span>
     &raquo; 
    <span class="title">QueueProxy</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Adhearsion::VoIP::Asterisk::Commands::QueueProxy
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Adhearsion::VoIP::Asterisk::Commands::QueueProxy</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/adhearsion/voip/asterisk/commands.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Defined Under Namespace</h2>
<p class="children">
   
    
   
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="QueueProxy/AgentProxy.html" title="Adhearsion::VoIP::Asterisk::Commands::QueueProxy::AgentProxy (class)">AgentProxy</a></span>, <span class='object_link'><a href="QueueProxy/QueueAgentsListProxy.html" title="Adhearsion::VoIP::Asterisk::Commands::QueueProxy::QueueAgentsListProxy (class)">QueueAgentsListProxy</a></span>, <span class='object_link'><a href="QueueProxy/QueueDoesNotExistError.html" title="Adhearsion::VoIP::Asterisk::Commands::QueueProxy::QueueDoesNotExistError (class)">QueueDoesNotExistError</a></span>
    
  
</p>


  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#environment-instance_method" title="#environment (instance method)">- (Object) <strong>environment</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute environment.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#name-instance_method" title="#name (instance method)">- (Object) <strong>name</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute name.
</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#format_join_hash_key_arguments-class_method" title="format_join_hash_key_arguments (class method)">+ (Object) <strong>format_join_hash_key_arguments</strong>(options) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#agents-instance_method" title="#agents (instance method)">- (QueueAgentsListProxy) <strong>agents</strong>(options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Get the agents associated with a queue.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#any%3F-instance_method" title="#any? (instance method)">- (Boolean) <strong>any?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Check whether any calls are waiting in the queue.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#empty%3F-instance_method" title="#empty? (instance method)">- (Boolean) <strong>empty?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Check whether the waiting count is zero.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exists%3F-instance_method" title="#exists? (instance method)">- (Boolean) <strong>exists?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Check whether a queue exists/is defined in Asterisk.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (QueueProxy) <strong>initialize</strong>(name, environment) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
A new instance of QueueProxy.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#join%21-instance_method" title="#join! (instance method)">- (Object) <strong>join!</strong>(options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Makes the current channel join the queue.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#waiting_count-instance_method" title="#waiting_count (instance method)">- (Integer) <strong>waiting_count</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Check how many channels are waiting in the queue.
</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Adhearsion::VoIP::Asterisk::Commands::QueueProxy (class)">QueueProxy</a></span></tt>) <strong>initialize</strong>(name, environment) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
A new instance of QueueProxy
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1595
1596
1597</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/voip/asterisk/commands.rb', line 1595</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span><span class='lparen'>(</span><span class='id name'>name</span><span class='comma'>,</span> <span class='id environment'>environment</span><span class='rparen'>)</span>
  <span class='ivar'>@name</span><span class='comma'>,</span> <span class='ivar'>@environment</span> <span class='op'>=</span> <span class='id name'>name</span><span class='comma'>,</span> <span class='id environment'>environment</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <span id="environment-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="environment-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>environment</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute environment
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1594
1595
1596</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/voip/asterisk/commands.rb', line 1594</span>

<span class='kw'>def</span> <span class='id environment'>environment</span>
  <span class='ivar'>@environment</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="name-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="name-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>name</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute name
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1594
1595
1596</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/voip/asterisk/commands.rb', line 1594</span>

<span class='kw'>def</span> <span class='id name'>name</span>
  <span class='ivar'>@name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="format_join_hash_key_arguments-class_method">
  
    + (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>format_join_hash_key_arguments</strong>(options) 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1546
1547
1548
1549
1550
1551
1552
1553
1554
1555
1556
1557
1558
1559
1560
1561
1562
1563
1564
1565
1566
1567
1568
1569
1570
1571
1572
1573
1574
1575
1576
1577
1578
1579
1580
1581
1582
1583
1584
1585
1586
1587
1588
1589
1590</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/voip/asterisk/commands.rb', line 1546</span>

<span class='kw'>def</span> <span class='id format_join_hash_key_arguments'>format_join_hash_key_arguments</span><span class='lparen'>(</span><span class='id options'>options</span><span class='rparen'>)</span>

  <span class='id bad_argument'>bad_argument</span> <span class='op'>=</span> <span class='id lambda'>lambda</span> <span class='kw'>do</span> <span class='op'>|</span><span class='lparen'>(</span><span class='id key'>key</span><span class='comma'>,</span> <span class='id value'>value</span><span class='rparen'>)</span><span class='op'>|</span>
    <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unrecognize value for </span><span class='embexpr_beg'>#{</span><span class='id key'>key</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_content'> -- </span><span class='embexpr_beg'>#{</span><span class='id value'>value</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='comment'># Direct Queue() arguments:
</span>  <span class='id timeout'>timeout</span>        <span class='op'>=</span> <span class='id options'>options</span><span class='period'>.</span><span class='id delete'>delete</span> <span class='symbol'>:timeout</span>
  <span class='id announcement'>announcement</span>   <span class='op'>=</span> <span class='id options'>options</span><span class='period'>.</span><span class='id delete'>delete</span> <span class='symbol'>:announce</span>

  <span class='comment'># Terse single-character options
</span>  <span class='id ring_style'>ring_style</span>     <span class='op'>=</span> <span class='id options'>options</span><span class='period'>.</span><span class='id delete'>delete</span> <span class='symbol'>:play</span>
  <span class='id allow_hangup'>allow_hangup</span>   <span class='op'>=</span> <span class='id options'>options</span><span class='period'>.</span><span class='id delete'>delete</span> <span class='symbol'>:allow_hangup</span>
  <span class='id allow_transfer'>allow_transfer</span> <span class='op'>=</span> <span class='id options'>options</span><span class='period'>.</span><span class='id delete'>delete</span> <span class='symbol'>:allow_transfer</span>
  <span class='id agi'>agi</span>            <span class='op'>=</span> <span class='id options'>options</span><span class='period'>.</span><span class='id delete'>delete</span> <span class='symbol'>:agi</span>

  <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unrecognized args to join!: </span><span class='embexpr_beg'>#{</span><span class='id options'>options</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id options'>options</span><span class='period'>.</span><span class='id any?'>any?</span>

  <span class='id ring_style'>ring_style</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id ring_style'>ring_style</span>
    <span class='kw'>when</span> <span class='symbol'>:ringing</span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>r</span><span class='tstring_end'>'</span></span>
    <span class='kw'>when</span> <span class='symbol'>:music</span> <span class='kw'>then</span>   <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span>
    <span class='kw'>when</span> <span class='kw'>nil</span>
    <span class='kw'>else</span> <span class='id bad_argument'>bad_argument</span><span class='lbracket'>[</span><span class='symbol'>:play</span> <span class='op'>=&gt;</span> <span class='id ring_style'>ring_style</span><span class='rbracket'>]</span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id to_s'>to_s</span>

  <span class='id allow_hangup'>allow_hangup</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id allow_hangup'>allow_hangup</span>
    <span class='kw'>when</span> <span class='symbol'>:caller</span> <span class='kw'>then</span>   <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>H</span><span class='tstring_end'>'</span></span>
    <span class='kw'>when</span> <span class='symbol'>:agent</span> <span class='kw'>then</span>    <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>h</span><span class='tstring_end'>'</span></span>
    <span class='kw'>when</span> <span class='symbol'>:everyone</span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Hh</span><span class='tstring_end'>'</span></span>
    <span class='kw'>when</span> <span class='kw'>nil</span>
    <span class='kw'>else</span> <span class='id bad_argument'>bad_argument</span><span class='lbracket'>[</span><span class='symbol'>:allow_hangup</span> <span class='op'>=&gt;</span> <span class='id allow_hangup'>allow_hangup</span><span class='rbracket'>]</span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id to_s'>to_s</span>

  <span class='id allow_transfer'>allow_transfer</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id allow_transfer'>allow_transfer</span>
    <span class='kw'>when</span> <span class='symbol'>:caller</span> <span class='kw'>then</span>   <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>T</span><span class='tstring_end'>'</span></span>
    <span class='kw'>when</span> <span class='symbol'>:agent</span> <span class='kw'>then</span>    <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>t</span><span class='tstring_end'>'</span></span>
    <span class='kw'>when</span> <span class='symbol'>:everyone</span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Tt</span><span class='tstring_end'>'</span></span>
    <span class='kw'>when</span> <span class='kw'>nil</span>
    <span class='kw'>else</span> <span class='id bad_argument'>bad_argument</span><span class='lbracket'>[</span><span class='symbol'>:allow_transfer</span> <span class='op'>=&gt;</span> <span class='id allow_transfer'>allow_transfer</span><span class='rbracket'>]</span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id to_s'>to_s</span>

  <span class='id terse_character_options'>terse_character_options</span> <span class='op'>=</span> <span class='id ring_style'>ring_style</span> <span class='op'>+</span> <span class='id allow_transfer'>allow_transfer</span> <span class='op'>+</span> <span class='id allow_hangup'>allow_hangup</span>

  <span class='lbracket'>[</span><span class='id terse_character_options'>terse_character_options</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='id announcement'>announcement</span><span class='comma'>,</span> <span class='id timeout'>timeout</span><span class='comma'>,</span> <span class='id agi'>agi</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_s</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="agents-instance_method">
  
    - (<tt><span class='object_link'><a href="QueueProxy/QueueAgentsListProxy.html" title="Adhearsion::VoIP::Asterisk::Commands::QueueProxy::QueueAgentsListProxy (class)">QueueAgentsListProxy</a></span></tt>) <strong>agents</strong>(options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Get the agents associated with a queue
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="QueueProxy/QueueAgentsListProxy.html" title="Adhearsion::VoIP::Asterisk::Commands::QueueProxy::QueueAgentsListProxy (class)">QueueAgentsListProxy</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1643
1644
1645
1646
1647
1648
1649
1650
1651</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/voip/asterisk/commands.rb', line 1643</span>

<span class='kw'>def</span> <span class='id agents'>agents</span><span class='lparen'>(</span><span class='id options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id cached'>cached</span> <span class='op'>=</span> <span class='id options'>options</span><span class='period'>.</span><span class='id has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:cache</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id options'>options</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:cache</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='kw'>true</span>
  <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unrecognized arguments to agents(): </span><span class='embexpr_beg'>#{</span><span class='id options'>options</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id options'>options</span><span class='period'>.</span><span class='id keys'>keys</span><span class='period'>.</span><span class='id any?'>any?</span>
  <span class='kw'>if</span> <span class='id cached'>cached</span>
    <span class='ivar'>@cached_proxy</span> <span class='op'>||=</span> <span class='const'>QueueAgentsListProxy</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='ivar'>@uncached_proxy</span> <span class='op'>||=</span>  <span class='const'>QueueAgentsListProxy</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="any?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>any?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Check whether any calls are waiting in the queue
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1669
1670
1671</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/voip/asterisk/commands.rb', line 1669</span>

<span class='kw'>def</span> <span class='id any?'>any?</span>
  <span class='id waiting_count'>waiting_count</span> <span class='op'>&gt;</span> <span class='int'>0</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="empty?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>empty?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Check whether the waiting count is zero
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1663
1664
1665</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/voip/asterisk/commands.rb', line 1663</span>

<span class='kw'>def</span> <span class='id empty?'>empty?</span>
  <span class='id waiting_count'>waiting_count</span> <span class='op'>==</span> <span class='int'>0</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="exists?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>exists?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Check whether a queue exists/is defined in Asterisk
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1675
1676
1677
1678</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/voip/asterisk/commands.rb', line 1675</span>

<span class='kw'>def</span> <span class='id exists?'>exists?</span>
  <span class='id environment'>environment</span><span class='period'>.</span><span class='id execute'>execute</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>RemoveQueueMember</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='id name'>name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>SIP/AdhearsionQueueExistenceCheck</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id environment'>environment</span><span class='period'>.</span><span class='id variable'>variable</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RQMSTATUS</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>NOSUCHQUEUE</span><span class='tstring_end'>'</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="join!-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>join!</strong>(options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Makes the current channel join the queue.
</p>
<pre class="code">
 <span class='ivar'>@example</span>
   <span class='id queue'>queue</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>sales</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id join!'>join!</span>
 <span class='ivar'>@example</span>
   <span class='id queue'>queue</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>sales</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id join!'>join!</span> <span class='symbol'>:timeout</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='period'>.</span><span class='id minute'>minute</span>
 <span class='ivar'>@example</span>
   <span class='id queue'>queue</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>sales</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id join!'>join!</span> <span class='symbol'>:play</span> <span class='op'>=&gt;</span> <span class='symbol'>:music</span>
 <span class='ivar'>@example</span>
   <span class='id queue'>queue</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>sales</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id join!'>join!</span> <span class='symbol'>:play</span> <span class='op'>=&gt;</span> <span class='symbol'>:ringing</span>
 <span class='ivar'>@example</span>
   <span class='id queue'>queue</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>sales</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id join!'>join!</span> <span class='symbol'>:announce</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>custom/special-queue-announcement</span><span class='tstring_end'>&quot;</span></span>
 <span class='ivar'>@example</span>
   <span class='id queue'>queue</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>sales</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id join!'>join!</span> <span class='symbol'>:allow_transfer</span> <span class='op'>=&gt;</span> <span class='symbol'>:caller</span>
 <span class='ivar'>@example</span>
   <span class='id queue'>queue</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>sales</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id join!'>join!</span> <span class='symbol'>:allow_transfer</span> <span class='op'>=&gt;</span> <span class='symbol'>:agent</span>
 <span class='ivar'>@example</span>
   <span class='id queue'>queue</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>sales</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id join!'>join!</span> <span class='symbol'>:allow_hangup</span>   <span class='op'>=&gt;</span> <span class='symbol'>:caller</span>
 <span class='ivar'>@example</span>
   <span class='id queue'>queue</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>sales</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id join!'>join!</span> <span class='symbol'>:allow_hangup</span>   <span class='op'>=&gt;</span> <span class='symbol'>:agent</span>
 <span class='ivar'>@example</span>
   <span class='id queue'>queue</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>sales</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id join!'>join!</span> <span class='symbol'>:allow_hangup</span>   <span class='op'>=&gt;</span> <span class='symbol'>:everyone</span>
 <span class='ivar'>@example</span>
   <span class='id queue'>queue</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>sales</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id join!'>join!</span> <span class='symbol'>:agi</span>            <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>agi://localhost/sales_queue_callback</span><span class='tstring_end'>'</span></span>
 <span class='ivar'>@example</span>
   <span class='id queue'>queue</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>sales</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id join!'>join!</span> <span class='symbol'>:allow_transfer</span> <span class='op'>=&gt;</span> <span class='symbol'>:agent</span><span class='comma'>,</span> <span class='symbol'>:timeout</span> <span class='op'>=&gt;</span> <span class='int'>30</span><span class='period'>.</span><span class='id seconds'>seconds</span><span class='comma'>,</span></pre>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>
:timeout        - The number of seconds to wait for an agent to answer
:play           - Can be :ringing or :music. :announce       - A sound file
to play instead of the normal queue announcement. :allow_transfer - Can be
:caller, :agent, or :everyone. Allow someone to transfer the call.
:allow_hangup   - Can be :caller, :agent, or :everyone. Allow someone to
hangup with the * key. :agi            - An AGI script to be called on the
calling parties channel just before being connected.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1634
1635
1636
1637</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/voip/asterisk/commands.rb', line 1634</span>

<span class='kw'>def</span> <span class='id join!'>join!</span><span class='lparen'>(</span><span class='id options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id environment'>environment</span><span class='period'>.</span><span class='id execute'>execute</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>queue</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id name'>name</span><span class='comma'>,</span> <span class='op'>*</span><span class='kw'>self</span><span class='period'>.</span><span class='id class'>class</span><span class='period'>.</span><span class='id format_join_hash_key_arguments'>format_join_hash_key_arguments</span><span class='lparen'>(</span><span class='id options'>options</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id normalize_queue_status_variable'>normalize_queue_status_variable</span> <span class='id environment'>environment</span><span class='period'>.</span><span class='id variable'>variable</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>QUEUESTATUS</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="waiting_count-instance_method">
  
    - (<tt>Integer</tt>) <strong>waiting_count</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Check how many channels are waiting in the queue
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
    </li>
  
</ul>
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>
QueueDoesNotExistError
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1656
1657
1658
1659</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/voip/asterisk/commands.rb', line 1656</span>

<span class='kw'>def</span> <span class='id waiting_count'>waiting_count</span>
  <span class='id raise'>raise</span> <span class='const'>QueueDoesNotExistError</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id name'>name</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id exists?'>exists?</span>
  <span class='id environment'>environment</span><span class='period'>.</span><span class='id variable'>variable</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>QUEUE_WAITING_COUNT(</span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id to_i'>to_i</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Mon Aug  8 16:22:06 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.2 (ruby-1.9.2).
</div>

  </body>
</html>