<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Adhearsion::VoIP::Asterisk::Commands::QueueProxy::QueueAgentsListProxy
  
    &mdash; Documentation by YARD 0.7.2
  
</title>

  <link rel="stylesheet" href="../../../../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../../../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../../../../..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../../../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../../../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../../../../_index.html">Index (Q)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../../../../Adhearsion.html" title="Adhearsion (module)">Adhearsion</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../../../VoIP.html" title="Adhearsion::VoIP (module)">VoIP</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../../Asterisk.html" title="Adhearsion::VoIP::Asterisk (module)">Asterisk</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Commands.html" title="Adhearsion::VoIP::Asterisk::Commands (module)">Commands</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../QueueProxy.html" title="Adhearsion::VoIP::Asterisk::Commands::QueueProxy (class)">QueueProxy</a></span></span>
     &raquo; 
    <span class="title">QueueAgentsListProxy</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Adhearsion::VoIP::Asterisk::Commands::QueueProxy::QueueAgentsListProxy
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../../../../../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../../../../../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Adhearsion::VoIP::Asterisk::Commands::QueueProxy::QueueAgentsListProxy</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2">Enumerable</dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/adhearsion/voip/asterisk/commands.rb</dd>
  
</dl>
<div class="clear"></div>



  
  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#agents-instance_method" title="#agents (instance method)">- (Object) <strong>agents</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute agents.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#proxy-instance_method" title="#proxy (instance method)">- (Object) <strong>proxy</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute proxy.
</p>
</div></span>
  
</li>

    
  </ul>



  

  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cached%3F-instance_method" title="#cached? (instance method)">- (Boolean) <strong>cached?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#count-instance_method" title="#count (instance method)">- (Object) <strong>count</strong> </a>
    

    
      (also: #size, #length)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each-instance_method" title="#each (instance method)">- (Object) <strong>each</strong>(&amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#first-instance_method" title="#first (instance method)">- (Object) <strong>first</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (QueueAgentsListProxy) <strong>initialize</strong>(proxy, cached = false) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
A new instance of QueueAgentsListProxy.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#last-instance_method" title="#last (instance method)">- (Object) <strong>last</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#login%21-instance_method" title="#login! (instance method)">- (Object) <strong>login!</strong>(*args) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Logs a pre-defined agent into this queue and waits for calls.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#logout%21-instance_method" title="#logout! (instance method)">- (Object) <strong>logout!</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Removes the current channel from this queue.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new-instance_method" title="#new (instance method)">- (Object) <strong>new</strong>(*args) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:name value will be viewable in the queue_log :penalty is the penalty
assigned to this agent for answering calls on this queue.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_a-instance_method" title="#to_a (instance method)">- (Object) <strong>to_a</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Adhearsion::VoIP::Asterisk::Commands::QueueProxy::QueueAgentsListProxy (class)">QueueAgentsListProxy</a></span></tt>) <strong>initialize</strong>(proxy, cached = false) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
A new instance of QueueAgentsListProxy
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1711
1712
1713
1714</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/voip/asterisk/commands.rb', line 1711</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span><span class='lparen'>(</span><span class='id proxy'>proxy</span><span class='comma'>,</span> <span class='id cached'>cached</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
  <span class='ivar'>@proxy</span>  <span class='op'>=</span> <span class='id proxy'>proxy</span>
  <span class='ivar'>@cached</span> <span class='op'>=</span> <span class='id cached'>cached</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <span id="agents-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="agents-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>agents</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute agents
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1710
1711
1712</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/voip/asterisk/commands.rb', line 1710</span>

<span class='kw'>def</span> <span class='id agents'>agents</span>
  <span class='ivar'>@agents</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="proxy-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="proxy-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>proxy</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute proxy
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1710
1711
1712</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/voip/asterisk/commands.rb', line 1710</span>

<span class='kw'>def</span> <span class='id proxy'>proxy</span>
  <span class='ivar'>@proxy</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="cached?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>cached?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1806
1807
1808</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/voip/asterisk/commands.rb', line 1806</span>

<span class='kw'>def</span> <span class='id cached?'>cached?</span>
  <span class='ivar'>@cached</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="count-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>count</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='size-instance_method'>size</span>, <span id='length-instance_method'>length</span></span>
    </span>
  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1716
1717
1718
1719
1720
1721
1722</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/voip/asterisk/commands.rb', line 1716</span>

<span class='kw'>def</span> <span class='id count'>count</span>
  <span class='kw'>if</span> <span class='id cached?'>cached?</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@cached_count</span>
    <span class='ivar'>@cached_count</span>
  <span class='kw'>else</span>
    <span class='ivar'>@cached_count</span> <span class='op'>=</span> <span class='id proxy'>proxy</span><span class='period'>.</span><span class='id environment'>environment</span><span class='period'>.</span><span class='id variable'>variable</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>QUEUE_MEMBER_COUNT(</span><span class='embexpr_beg'>#{</span><span class='id proxy'>proxy</span><span class='period'>.</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id to_i'>to_i</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="each-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>each</strong>(&amp;block) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1791
1792
1793
1794</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/voip/asterisk/commands.rb', line 1791</span>

<span class='kw'>def</span> <span class='id each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id check_agent_cache!'>check_agent_cache!</span>
  <span class='id agents'>agents</span><span class='period'>.</span><span class='id each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="first-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>first</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1796
1797
1798
1799</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/voip/asterisk/commands.rb', line 1796</span>

<span class='kw'>def</span> <span class='id first'>first</span>
  <span class='id check_agent_cache!'>check_agent_cache!</span>
  <span class='id agents'>agents</span><span class='period'>.</span><span class='id first'>first</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="last-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>last</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1801
1802
1803
1804</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/voip/asterisk/commands.rb', line 1801</span>

<span class='kw'>def</span> <span class='id last'>last</span>
  <span class='id check_agent_cache!'>check_agent_cache!</span>
  <span class='id agents'>agents</span><span class='period'>.</span><span class='id last'>last</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="login!-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>login!</strong>(*args) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Logs a pre-defined agent into this queue and waits for calls. Pass in
:silent => true to stop the message which says &#8220;Agent logged
in&#8221;.
</p>


  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1765
1766
1767
1768
1769
1770
1771
1772
1773
1774
1775</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/voip/asterisk/commands.rb', line 1765</span>

<span class='kw'>def</span> <span class='id login!'>login!</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='rparen'>)</span>
  <span class='id options'>options</span> <span class='op'>=</span> <span class='id args'>args</span><span class='period'>.</span><span class='id last'>last</span><span class='period'>.</span><span class='id kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id args'>args</span><span class='period'>.</span><span class='id pop'>pop</span> <span class='op'>:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='id silent'>silent</span> <span class='op'>=</span> <span class='id options'>options</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:silent</span><span class='rparen'>)</span><span class='period'>.</span><span class='id equal?'>equal?</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>s</span><span class='tstring_end'>'</span></span>
  <span class='id id'>id</span>     <span class='op'>=</span> <span class='id args'>args</span><span class='period'>.</span><span class='id shift'>shift</span>
  <span class='id id'>id</span>   <span class='op'>&amp;&amp;=</span> <span class='const'>AgentProxy</span><span class='period'>.</span><span class='id id_from_agent_channel'>id_from_agent_channel</span><span class='lparen'>(</span><span class='id id'>id</span><span class='rparen'>)</span>
  <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unrecognized Hash options to login(): </span><span class='embexpr_beg'>#{</span><span class='id options'>options</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id options'>options</span><span class='period'>.</span><span class='id any?'>any?</span>
  <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unrecognized argument to login(): </span><span class='embexpr_beg'>#{</span><span class='id args'>args</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id args'>args</span><span class='period'>.</span><span class='id any?'>any?</span>

  <span class='id proxy'>proxy</span><span class='period'>.</span><span class='id environment'>environment</span><span class='period'>.</span><span class='id execute'>execute</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>AgentLogin</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='id id'>id</span><span class='comma'>,</span> <span class='id silent'>silent</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="logout!-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>logout!</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Removes the current channel from this queue
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1778
1779
1780
1781
1782
1783
1784
1785
1786
1787
1788
1789</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/voip/asterisk/commands.rb', line 1778</span>

<span class='kw'>def</span> <span class='id logout!'>logout!</span>
  <span class='comment'># TODO: DRY this up. Repeated in the AgentProxy...
</span>  <span class='id proxy'>proxy</span><span class='period'>.</span><span class='id environment'>environment</span><span class='period'>.</span><span class='id execute'>execute</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>RemoveQueueMember</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='id proxy'>proxy</span><span class='period'>.</span><span class='id name'>name</span>
  <span class='kw'>case</span> <span class='id proxy'>proxy</span><span class='period'>.</span><span class='id environment'>environment</span><span class='period'>.</span><span class='id variable'>variable</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RQMSTATUS</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>REMOVED</span><span class='tstring_end'>&quot;</span></span>     <span class='kw'>then</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NOTINQUEUE</span><span class='tstring_end'>&quot;</span></span>  <span class='kw'>then</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NOSUCHQUEUE</span><span class='tstring_end'>&quot;</span></span>
      <span class='id raise'>raise</span> <span class='const'>QueueDoesNotExistError</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id proxy'>proxy</span><span class='period'>.</span><span class='id name'>name</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unrecognized RQMSTATUS variable!</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="new-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>new</strong>(*args) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:name value will be viewable in the queue_log :penalty is the penalty
assigned to this agent for answering calls on this queue
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>args</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
    </li>
  
</ul>
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1729
1730
1731
1732
1733
1734
1735
1736
1737
1738
1739
1740
1741
1742
1743
1744
1745
1746
1747
1748
1749
1750
1751
1752
1753
1754
1755
1756
1757
1758
1759
1760
1761</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/voip/asterisk/commands.rb', line 1729</span>

<span class='kw'>def</span> <span class='id new'>new</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='rparen'>)</span>

  <span class='id options'>options</span>   <span class='op'>=</span> <span class='id args'>args</span><span class='period'>.</span><span class='id last'>last</span><span class='period'>.</span><span class='id kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id args'>args</span><span class='period'>.</span><span class='id pop'>pop</span> <span class='op'>:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id interface'>interface</span> <span class='op'>=</span> <span class='id args'>args</span><span class='period'>.</span><span class='id shift'>shift</span>

  <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You must specify an interface to add.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id interface'>interface</span><span class='period'>.</span><span class='id nil?'>nil?</span>
  <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You may only supply an interface and a Hash argument!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id args'>args</span><span class='period'>.</span><span class='id any?'>any?</span>

  <span class='id penalty'>penalty</span>             <span class='op'>=</span> <span class='id options'>options</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:penalty</span><span class='rparen'>)</span>            <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span>
  <span class='id name'>name</span>                <span class='op'>=</span> <span class='id options'>options</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='rparen'>)</span>               <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span>
  <span class='id state_interface'>state_interface</span>     <span class='op'>=</span> <span class='id options'>options</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:state_interface</span><span class='rparen'>)</span>    <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span>

  <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unrecognized argument(s): </span><span class='embexpr_beg'>#{</span><span class='id options'>options</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id options'>options</span><span class='period'>.</span><span class='id any?'>any?</span>

  <span class='id proxy'>proxy</span><span class='period'>.</span><span class='id environment'>environment</span><span class='period'>.</span><span class='id execute'>execute</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AddQueueMember</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id proxy'>proxy</span><span class='period'>.</span><span class='id name'>name</span><span class='comma'>,</span> <span class='id interface'>interface</span><span class='comma'>,</span> <span class='id penalty'>penalty</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='id name'>name</span><span class='comma'>,</span> <span class='id state_interface'>state_interface</span><span class='rparen'>)</span>

  <span class='id added'>added</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id proxy'>proxy</span><span class='period'>.</span><span class='id environment'>environment</span><span class='period'>.</span><span class='id variable'>variable</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AQMSTATUS</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ADDED</span><span class='tstring_end'>&quot;</span></span>         <span class='kw'>then</span> <span class='kw'>true</span>
          <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MEMBERALREADY</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='kw'>false</span>
          <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NOSUCHQUEUE</span><span class='tstring_end'>&quot;</span></span>   <span class='kw'>then</span> <span class='id raise'>raise</span> <span class='const'>QueueDoesNotExistError</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id proxy'>proxy</span><span class='period'>.</span><span class='id name'>name</span><span class='rparen'>)</span>
          <span class='kw'>else</span>
            <span class='id raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UNRECOGNIZED AQMSTATUS VALUE!</span><span class='tstring_end'>&quot;</span></span>
          <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id added'>added</span>
    <span class='id check_agent_cache!'>check_agent_cache!</span>
    <span class='const'>AgentProxy</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id interface'>interface</span><span class='comma'>,</span> <span class='id proxy'>proxy</span><span class='rparen'>)</span><span class='period'>.</span><span class='id tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id agent_proxy'>agent_proxy</span><span class='op'>|</span>
      <span class='ivar'>@agents</span> <span class='op'>&lt;&lt;</span> <span class='id agent_proxy'>agent_proxy</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='kw'>false</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_a-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_a</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1810
1811
1812
1813</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/adhearsion/voip/asterisk/commands.rb', line 1810</span>

<span class='kw'>def</span> <span class='id to_a'>to_a</span>
  <span class='id check_agent_cache!'>check_agent_cache!</span>
  <span class='ivar'>@agents</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Mon Aug  8 16:22:06 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.2 (ruby-1.9.2).
</div>

  </body>
</html>