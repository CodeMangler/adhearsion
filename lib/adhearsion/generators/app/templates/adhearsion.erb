# encoding: utf-8

Adhearsion.config do |config|
<% unless options[:empty] %>
  # Centralized way to specify any Adhearsion platform or plugin configuration
  # - Execute rake config:show to view the active configuration values
  #
  # To update a plugin configuration you can write either:
  #
  #    * Option 1
  #        Adhearsion.config.<plugin-name> do |config|
  #          config.<key> = <value>
  #        end
  #
  #    * Option 2
  #        Adhearsion.config do |config|
  #          config.<plugin-name>.<key> = <value>
  #        end
<% end %>
  config.development do |dev|
    dev.platform.logging.level = :debug
  end

  ##
  # Use with Rayo (eg Voxeo PRISM or FreeSWITCH mod_rayo)
  #
  # config.punchblock.username = "usera@freeswitch.local-dev.mojolingo.com" # Your XMPP JID for use with Rayo
  # config.punchblock.password = "1" # Your XMPP password

  ##
  # Use with Asterisk
  #
  # config.punchblock.platform = :asterisk # Use Asterisk
  # config.punchblock.username = "manager" # Your AMI username
  # config.punchblock.password = "password" # Your AMI password
  # config.punchblock.host = "asterisk.local-dev.mojolingo.com" # Your AMI host

<% unless options[:empty] %>
  ##
  # Use with FreeSWITCH via EventSocket
  #
  # This configuration is no longer recommended and mod_rayo is preferred
  #
  # config.punchblock.platform = :freeswitch # Use FreeSWITCH
  # config.punchblock.password = "ClueCon" # Your Inbound EventSocket password
  # config.punchblock.host = "freeswitch.local-dev.mojolingo.com" # Your IES host
<% end %>
end

Adhearsion::Events.draw do
<% unless options[:empty] %>
  # Register global handlers for events
  #
  # eg. Handling Punchblock events
  # punchblock do |event|
  #   ...
  # end
  #
  # eg Handling PeerStatus AMI events
  # ami :name => 'PeerStatus' do |event|
  #   ...
  # end
  #
<% end %>
end

<% unless options[:empty] %>
require 'call_controllers/simon_game'
<% end %>

Adhearsion.router do
<% if options[:empty] %>
  route 'default' do

  end
<% else %>
  #
  # Specify your call routes, directing calls with particular attributes to a controller
  #

  route 'default', SimonGame
<% end %>
end
